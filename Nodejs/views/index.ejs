<!DOCTYPE html>
<html>
<head>

  <script language="JavaScript">
    function toggleTable() {
      var lTable = document.getElementById("table")
      lTable.style.display = (lTable.style.display == "block") ? "none" : "block";
    }
  </script>

  <script src='/javascripts/Chart.min.js'></script>

  <link rel='stylesheet' href='/stylesheets/style.css' />
</head>
<body>
<p class="one">Average Temp: <%-JSON.stringify(avg.toString().substring(0,5))%> </p>

<canvas id="chart" width="600" height="400"></canvas>
<br>
<br>

<script>


  var chartData = {


    labels : <%- JSON.stringify(date)%>,
    datasets : [
        {
          fillColor: "rgba(151,187,205,0.2)",
          strokeColor: "rgba(151,187,205,1)",
          pointColor: "rgba(151,187,205,1)",
          pointStrokeColor: "#fff",
          pointHighlightFill: "#fff",
          pointHighlightStroke: "rgba(151,187,205,1)",
          data :[<%= temp%>]
      }
    ]
  }
  var chart = document.getElementById('chart').getContext('2d');
  new Chart(chart).Line(chartData);
</script>

<button onclick="toggleTable()">show</button>
<!--div id="table" style="display: none"-->
<table id="table" style="display: none" border=2px >
    <thead>
    <tr>
        <th>Time</th>
        <th>Temp</th>
    </tr>
    </thead>
    <tbody>

    <% for(var i=0; i< temp.length ;i++) { %>

    <tr>
        <td><%= date[i].toString().substring(0,21)%></td>
        <td><%= temp[i]%></td>
    </tr>
    <% } %>
    </tbody>
</table>
<!--/div-->



</body>



</html>